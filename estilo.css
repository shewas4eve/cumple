/* ============================================================
   VARIABLES
   ============================================================ */
:root {
    --bg-trans : 2.8s ease-in-out;
    --msg-trans: 0.9s cubic-bezier(.4,0,.2,1);
    --font-title: 'Pacifico', cursive;
    --font-body : 'Cormorant Garamond', serif;
    --gold  : #ffd93d;
    --rose  : #d4526e;
    --peach : #f9a26c;
}

/* ============================================================
   RESET
   ============================================================ */
*,*::before,*::after{ margin:0; padding:0; box-sizing:border-box; }
html,body { width:100%; height:100%; overflow:hidden; color:#fff; }

/* ============================================================
   FONDOS (4 temas, crossfade cada 8 s)
   ============================================================ */
.bg-layer {
    position:fixed; inset:0; z-index:0;
    opacity:0; transition:opacity var(--bg-trans);
}
.bg-layer.active{ opacity:1; }

#bg0{ background:linear-gradient(168deg,#0e0420 0%,#1b0d38 35%,#2c1850 65%,#1a0c35 100%); }
#bg1{ background:linear-gradient(172deg,#1a0535 0%,#3b1a5c 25%,#6a2d5a 52%,#c04a68 80%,#ee8a70 100%); }
#bg2{ background:linear-gradient(162deg,#08091e 0%,#141d3c 30%,#1b2e52 55%,#2e4870 82%,#4a7098 100%); }
#bg3{ background:linear-gradient(178deg,#1c0a2e 0%,#381248 22%,#6d2b5a 46%,#c46a6a 72%,#f0b46a 100%); }

/* ============================================================
   VIGNETA
   ============================================================ */
.vignette {
    position:fixed; inset:0; z-index:1; pointer-events:none;
    background:radial-gradient(ellipse at center,
        transparent 42%,
        rgba(0,0,0,.2) 68%,
        rgba(0,0,0,.45) 100%
    );
}

/* ============================================================
   CANVAS PARTÍCULAS
   ============================================================ */
#particleCanvas{ position:fixed; inset:0; z-index:2; pointer-events:none; }

/* ============================================================
   PANTALLA (flex, sin scroll)
   ============================================================ */
.screen {
    position:relative; z-index:3;
    width:100%; height:100vh;
    display:flex; flex-direction:column;
    align-items:center; justify-content:center;
    gap:0.8vh;           /* ← Reducido de 1.4vh para aprovechar espacio */
    padding:1.5vh 2vw;   /* ← Reducido padding vertical */
}

/* ============================================================
   HEADER
   ============================================================ */
.header{ text-align:center; flex-shrink:0; }

/* badge fecha */
.date-badge {
    display:inline-flex; align-items:center; gap:.6rem;
    background:rgba(255,255,255,.09);
    backdrop-filter:blur(14px);
    border:1px solid rgba(255,255,255,.22);
    border-radius:50px;
    padding:.5rem 1.6rem;      /* ← Aumentado de .32rem 1.2rem */
    font-family:var(--font-body);
    font-size:clamp(1rem,2vw,1.3rem);  /* ← Aumentado de .7rem a 1rem-1.3rem */
    font-weight:500;
    letter-spacing:3px;        /* ← Aumentado de 2px */
    text-transform:uppercase;
    margin-bottom:.4rem;       /* ← Reducido de .6rem */
    animation:badge-glow 3s ease-in-out infinite;
}
@keyframes badge-glow{
    0%,100%{ box-shadow:0 0 0 0 rgba(212,82,110,0); }
    50%    { box-shadow:0 0 18px 5px rgba(212,82,110,.28); }
}

/* ============================================================
   TÍTULO  ✨  — gradient animado sobre texto, sin JS
   ============================================================ */

/* ── línea 1: "Feliz Cumpleaños" ── */
.title-line-1 {
    font-family:var(--font-title);
    font-size:clamp(3.5rem, 10vw, 8rem);      /* ← Aumentado significativamente */
    font-weight:400;
    line-height:1.05;                         /* ← Ajustado para más compacto */
    margin:0 0 .2rem;                         /* ← Aumentado espacio entre líneas */

    /* gradient que se mueve → shimmer */
    background: linear-gradient(
        100deg,
        #ffd93d 0%,
        #ff9ec5 18%,
        #fff    32%,
        #ffd93d 45%,
        #ff6b9d 58%,
        #fff    70%,
        #f9a26c 85%,
        #ffd93d 100%
    );
    background-size: 200% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;

    animation: titleShimmer 3s ease-in-out infinite;

    /* sombra luminosa detrás (se hace con filter, no text-shadow porque hay text-fill) */
    filter: drop-shadow(0 0 15px rgba(255,217,61,.6))
            drop-shadow(0 0 35px rgba(212,82,110,.35))
            drop-shadow(0 5px 8px rgba(0,0,0,.45));
}

@keyframes titleShimmer {
    0%   { background-position: 0% 50%; }
    50%  { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* ── línea 2: "Mamá Silvia" ── */
.title-line-2 {
    font-family:var(--font-title);
    font-size:clamp(4rem, 12vw, 9.5rem);      /* ← Aumentado significativamente */
    font-weight:400;
    line-height:1.05;                         /* ← Ajustado */
    margin:0;

    background: linear-gradient(
        100deg,
        #ff6b9d 0%,
        #ffd93d 20%,
        #fff    34%,
        #fd79a8 50%,
        #fff    64%,
        #ffd93d 80%,
        #ff6b9d 100%
    );
    background-size: 220% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;

    animation: titleShimmer 3.6s ease-in-out infinite;

    filter: drop-shadow(0 0 18px rgba(255,107,157,.55))
            drop-shadow(0 0 40px rgba(255,217,61,.3))
            drop-shadow(0 5px 10px rgba(0,0,0,.5));
}

    background: linear-gradient(
        100deg,
        #ff6b9d 0%,
        #ffd93d 20%,
        #fff    34%,
        #fd79a8 50%,
        #fff    64%,
        #ffd93d 80%,
        #ff6b9d 100%
    );
    background-size: 220% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;

    animation: titleShimmer 3.6s ease-in-out infinite;

    filter: drop-shadow(0 0 14px rgba(255,107,157,.5))
            drop-shadow(0 0 34px rgba(255,217,61,.28))
            drop-shadow(0 4px 8px rgba(0,0,0,.45));
}

/* ============================================================
   MENSAJES
   ============================================================ */
.message-zone {
    flex-shrink:0;
    width:100%; max-width:680px;
    position:relative;
}

/* glow detrás de la tarjeta */
.card-glow {
    position:absolute;
    inset:-18px -24px;
    background:radial-gradient(ellipse, rgba(212,82,110,.18) 0%, transparent 68%);
    filter:blur(14px);
    animation:cardGlow 3.5s ease-in-out infinite;
    pointer-events:none; z-index:0;
}
@keyframes cardGlow {
    0%,100%{ opacity:.7; }
    50%    { opacity:1; }
}

/* tarjeta */
.message-card {
    position:relative; z-index:1;
    min-height:200px;
    display:flex; align-items:center; justify-content:center;
    background:rgba(255,255,255,.07);
    backdrop-filter:blur(22px);
    border:1px solid rgba(255,255,255,.15);
    border-radius:28px;
    padding:2rem 2.4rem;
    box-shadow:
        0 12px 50px rgba(0,0,0,.3),
        inset 0 1px 0 rgba(255,255,255,.1);
    overflow:hidden;
}

/* shimmer superior */
.message-card::before {
    content:''; position:absolute;
    top:0; left:0; right:0; height:3px;
    background:linear-gradient(90deg,
        transparent, var(--rose), var(--peach),
        var(--gold), #fd79a8, var(--peach), transparent);
    background-size:280% 100%;
    animation:shimmer 3.2s linear infinite;
    border-radius:28px 28px 0 0;
}
@keyframes shimmer {
    from{ background-position:-280% 0; }
    to  { background-position:280% 0; }
}

/* borde glow */
.message-card::after {
    content:''; position:absolute; inset:0;
    border-radius:28px;
    padding:1px;
    background:linear-gradient(135deg,
        rgba(212,82,110,.35),
        rgba(255,217,61,.15) 40%,
        rgba(249,162,108,.2) 70%,
        rgba(212,82,110,.3)
    );
    -webkit-mask:
        linear-gradient(#fff 0 0) content-box,
        linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events:none;
}

/* cada mensaje */
.msg {
    position:absolute; inset:0;
    display:flex; flex-direction:column;
    align-items:center; justify-content:center;
    padding:2rem 2.4rem;
    opacity:0;
    transform:translateY(18px) scale(.95);
    transition:opacity var(--msg-trans), transform var(--msg-trans);
    pointer-events:none;
}
.msg.active {
    opacity:1;
    transform:translateY(0) scale(1);
    pointer-events:auto;
}

/* icono del mensaje */
.mi {
    font-size:clamp(2rem, 3.6vw, 2.6rem);
    margin-bottom:.4rem;
    display:block;
    animation:iconPop 2.2s ease-in-out infinite;
}
@keyframes iconPop {
    0%,100%{ transform:scale(1); }
    50%    { transform:scale(1.2); }
}

/* texto mensaje */
.msg p {
    font-family:var(--font-body);
    font-size:clamp(1.25rem, 2.8vw, 1.7rem);
    line-height:1.6;
    max-width:560px;
    color:rgba(255,255,255,.93);
    text-align:center;
    font-weight:300;
}
.msg p strong { color:var(--gold); font-weight:600; }

/* ============================================================
   SECCIÓN MENSAJES DE INVITADOS + QR
   ============================================================ */
.guest-messages-section {
    flex-shrink:0;
    width:100%; max-width:900px;
    display:grid;
    grid-template-columns: 1fr 2fr;
    gap: 1.5rem;
    margin: 1rem 0;
}

/* ── QR Code ── */
.qr-container {
    background:rgba(255,255,255,.08);
    backdrop-filter:blur(18px);
    border:1px solid rgba(255,255,255,.15);
    border-radius:20px;
    padding:1.5rem;
    text-align:center;
    box-shadow:0 10px 40px rgba(0,0,0,.25);
}

.qr-title {
    font-family:var(--font-title);
    font-size:clamp(1.2rem, 3vw, 1.5rem);
    color:var(--gold);
    margin-bottom:1rem;
}

.qr-code {
    background:white;
    padding:1rem;
    border-radius:12px;
    display:inline-block;
    margin:0 auto 1rem;
}

.qr-subtitle {
    font-size:clamp(0.85rem, 1.8vw, 1rem);
    color:rgba(255,255,255,.75);
    font-style:italic;
}

/* ── Mensajes de invitados ── */
.guest-messages-display {
    background:rgba(255,255,255,.06);
    backdrop-filter:blur(18px);
    border:1px solid rgba(255,255,255,.13);
    border-radius:20px;
    padding:1.5rem;
    box-shadow:0 10px 40px rgba(0,0,0,.25);
}

.guest-messages-title {
    font-family:var(--font-title);
    font-size:clamp(1.1rem, 2.8vw, 1.4rem);
    color:var(--peach);
    margin-bottom:1rem;
    text-align:center;
}

.messages-scroll {
    max-height:250px;
    overflow-y:auto;
    padding-right:0.5rem;
}

/* Scrollbar personalizado */
.messages-scroll::-webkit-scrollbar {
    width:6px;
}
.messages-scroll::-webkit-scrollbar-track {
    background:rgba(255,255,255,.1);
    border-radius:10px;
}
.messages-scroll::-webkit-scrollbar-thumb {
    background:var(--rose);
    border-radius:10px;
}

.guest-message {
    background:rgba(255,255,255,.08);
    border-left:3px solid var(--rose);
    border-radius:10px;
    padding:1rem;
    margin-bottom:0.8rem;
    animation:slideIn .5s ease-out;
}

@keyframes slideIn {
    from { opacity:0; transform:translateX(-20px); }
    to { opacity:1; transform:translateX(0); }
}

.guest-message-header {
    display:flex;
    justify-content:space-between;
    align-items:center;
    margin-bottom:0.5rem;
}

.guest-name {
    font-weight:600;
    color:var(--gold);
    font-size:1.05rem;
}

.guest-time {
    font-size:0.8rem;
    color:rgba(255,255,255,.5);
}

.guest-message-text {
    color:rgba(255,255,255,.9);
    line-height:1.5;
    font-size:0.95rem;
}

.loading-messages,
.no-messages {
    text-align:center;
    color:rgba(255,255,255,.6);
    padding:2rem;
    font-style:italic;
}

/* Responsive para mensajes de invitados */
@media (max-width: 768px) {
    .guest-messages-section {
        grid-template-columns: 1fr;
    }
}

/* ============================================================
   PASTEL
   ============================================================ */
.footer {
    flex-shrink:0; text-align:center;
    display:flex; flex-direction:column;
    align-items:center; gap:.45rem;
}
.cake-wrap{ display:flex; flex-direction:column; align-items:center; }

/* velas */
.candle-row {
    display:flex; gap:clamp(12px,2.4vw,22px);
    margin-bottom:3px; position:relative; z-index:3;
}
.candle{ display:flex; flex-direction:column; align-items:center; }

.wax {
    width:8px;
    height:clamp(22px,3.4vh,32px);
    background:var(--wc);
    border-radius:4px 4px 0 0;
    box-shadow:0 0 10px var(--wc);
    position:relative;
}
.wax::before {
    content:''; position:absolute;
    top:28%; left:0; right:0; height:1px;
    background:rgba(255,255,255,.28);
    box-shadow:0 6px 0 rgba(255,255,255,.22), 0 12px 0 rgba(255,255,255,.16);
}

/* llama */
.flame {
    width:13px;
    height:clamp(16px,2.6vh,22px);
    position:relative; margin-bottom:1px;
}
.flame::before {
    content:''; position:absolute; inset:0;
    background:radial-gradient(ellipse at 50% 58%,
        #fff 0%, #ffeb3b 26%, #ff9800 60%, transparent 100%);
    border-radius:50% 50% 46% 46%;
    animation:flicker .13s infinite alternate;
    filter:drop-shadow(0 0 4px rgba(255,160,0,.6));
}
.fi {
    position:absolute;
    top:20%; left:50%; transform:translateX(-50%);
    width:6px; height:8px;
    background:radial-gradient(ellipse, #fff 0%, #ffeb3b 100%);
    border-radius:50%;
    animation:flicker .17s infinite alternate-reverse;
}
@keyframes flicker {
    0%  { transform:scaleY(1)   scaleX(1); }
    100%{ transform:scaleY(.85) scaleX(1.12); }
}

/* cuerpo pastel */
.cake {
    display:flex; flex-direction:column;
    align-items:center; position:relative;
}

/* drips frosting */
.drip-row {
    position:relative;
    width:clamp(120px,21vw,195px);
    height:0; z-index:2;
}
.drip {
    position:absolute; top:0;
    width:clamp(8px,1.3vw,12px);
    background:linear-gradient(180deg, rgba(255,255,255,.95) 0%, rgba(255,255,255,.7) 100%);
    border-radius:0 0 50% 50%;
    box-shadow:0 3px 7px rgba(0,0,0,.22);
    animation:dripPulse 2.6s ease-in-out infinite alternate;
}
@keyframes dripPulse {
    0%  { transform:scaleY(1);    opacity:.9; }
    100%{ transform:scaleY(1.22); opacity:.72; }
}

/* capas */
.cake-layer {
    position:relative;
    display:flex; align-items:center; justify-content:center;
    border-radius:8px; overflow:hidden;
}
.layer-1 {
    width:clamp(120px,21vw,195px);
    height:clamp(26px,3.8vh,36px);
    background:linear-gradient(180deg, #fff 0%, #ffe0ec 55%, #ffb8d0 100%);
    box-shadow:inset 0 -3px 7px rgba(212,82,110,.28), 0 2px 0 #e8729a;
    z-index:2;
}
.layer-2 {
    width:clamp(158px,27.5vw,242px);
    height:clamp(30px,4.2vh,40px);
    background:linear-gradient(180deg, #fff5f7 0%, #ffe8ee 48%, #ffccd8 100%);
    box-shadow:inset 0 -3px 7px rgba(212,82,110,.22), 0 2px 0 #d9658a;
    margin-top:-2px; z-index:1;
}
.layer-3 {
    width:clamp(196px,34vw,286px);
    height:clamp(34px,4.8vh,44px);
    background:linear-gradient(180deg, #ffc4d6 0%, #ff9ec5 52%, #ff7aad 100%);
    box-shadow:inset 0 -4px 9px rgba(160,40,80,.32), 0 3px 0 #c44a7a;
    margin-top:-2px;
    border-radius:8px 8px 12px 12px;
    z-index:0;
}

/* bolitas deco */
.deco-row {
    position:absolute; inset:0;
    display:flex; align-items:center; justify-content:space-around;
    padding:0 8px;
    pointer-events:none;
}
.dd {
    border-radius:50%;
    box-shadow:0 1px 4px rgba(0,0,0,.32);
    animation:ddPop 1.9s ease-in-out infinite;
}
@keyframes ddPop {
    0%,100%{ transform:scale(1); }
    50%    { transform:scale(1.3); }
}

/* plato */
.plate {
    width:clamp(215px,38vw,318px);
    height:clamp(11px,1.5vh,18px);
    background:linear-gradient(180deg, #eedccc 0%, #c9b5a5 100%);
    border-radius:0 0 50% 50% / 0 0 100% 100%;
    box-shadow:0 4px 12px rgba(0,0,0,.32);
    margin-top:-1px;
}

/* texto inferior */
.footer-love {
    font-family:var(--font-body);
    font-size:clamp(.82rem,1.6vw,1rem);
    opacity:.74; letter-spacing:1px; font-style:italic;
    margin-top:.15rem;
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width:520px) {
    .screen { gap:1vh; padding:1.6vh 3vw; }
    .message-card { min-height:170px; padding:1.5rem 1.3rem; border-radius:22px; }
    .msg { padding:1.5rem 1.3rem; }
    .msg p { font-size:clamp(1.1rem,4.5vw,1.35rem); }
    .candle-row { gap:9px; }
}
@media (max-height:600px) {
    .screen { gap:.85vh; }
    .title-line-1 { font-size:clamp(1.8rem,4.5vw,2.8rem); }
    .title-line-2 { font-size:clamp(2rem,5.2vw,3.2rem); }
    .message-card { min-height:140px; padding:1rem 1.2rem; }
    .msg { padding:1rem 1.2rem; }
    .mi { font-size:1.4rem; margin-bottom:.2rem; }
    .msg p { font-size:clamp(1rem,2.2vw,1.2rem); }
}
